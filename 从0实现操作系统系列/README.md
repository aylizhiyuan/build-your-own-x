# 从零实现操作系统系列

## 1. 控制电流的开关

无论是晶体管、真空管、继电器，他们在基本层面上都可以视为控制电流流动的开关。他们的功能就是控制电流的流动，从而实现信号的放大、逻辑运算、电路控制等等

另外，晶体管的开关速度(也叫切换速度或者频率)是非常重要的,开关速度指的是晶体管从导通到截止的时间，通常都是以纳秒(ns)为单位，开关的速度也决定了晶体管可以执行的逻辑运算和控制操作的速度


## 2. 逻辑门

单个晶体管我们有一个输入和输出,如果我们输入是on,那么输出也会是on,如果我们输入是off,则输出也会是off

```
Input ---- (晶体管) ---- Output
```

Not Gate

```
Input ----(晶体管) ---- Output
             |
            电阻
             |
             地
```
晶体管的输入端与输入信号相连,输出端连接到电阻和地,当输入信号为高电平的时候,晶体管导通,晶体管中的电流大量流向地线,所以输出为低电平;当输入信号为低电平的时候,虽然电流无法流动到地线,但是输出线的电流会被接通,所以输出为高电平

And Gate

```
current ---------------- Output
            |        |
          晶体管A   晶体管B
            |        |
            |        |
            |        |
            |        |
          InputA    InputB
```

在这个电路中，两个输入信号分别连接到两个晶体管的基极。当且仅当两个输入信号都为高电平的时候，两个晶体管都导通，输出端


Or Gate


```
Input A
|
|----(晶体管)------\
|                  \
|                  (输出)
|                  /
|----(晶体管)-----/
Input B
```

接收两个输入信号，并且只要其中一个或者两个输入信号为高电平，输出信号就为高电平;只有当两个输入信号都为低电平的时候,输出信号才为低电平

那么,其实其他的逻辑门都大同小异了,基本上我们可以通过这些电路来实现基础的逻辑门


## 3. ALU

拥有了逻辑门，我们就可以使用逻辑门来创建我们的计算单元了

```
Input A ----\
            |
            |--------\
Input B ----|        |
            |   ALU  |------- Output
Control ----|        |
            |--------/
            |
```

- InputA (8bit) 操作数
- InputB (8bit) 操作数
- Control (4bit) 操作符
- Flags: overflow(bit) / zero(bit) / Negative(bit)
- Output (8bit) 输出结果

![](./image/ALU.png)


半加器

```
Input A ----\
            |
            |--------\
Input B ----|        |
            |---XOR--|-- Output Sum
            |        |
            |--------/
            |
            |---AND--|-- Output Carry
            /
Ground ---/
```

在这个示意图中，输入A和输入B分别与XOR门和AND门相连。输出Sum取决于XOR门的输出,而输出Carry取决于AND门的输出,这个半加器用来执行单位加法运算操作

![](./image/半加器.png)

全加器

一个全加器是一个逻辑电路，它对两个输入（A和B）以及前一个电路的进位（Cin）进行操作，产生一个输出和一个进位输出。全加器由两个半加器和一个OR门组成。半加器处理A和B输入，产生它们的和，而OR门处理半加器的输出和前一个电路的进位，产生最终的和输出。

![](./image/全加器.png)

> 简单的说就是两个半加器进位进行OR运算后得出最终的进位，AB产生和之后跟进位相加得出相加结果

**8位全加器实例**

![](./image/8位全加器.png)


## 4. 寄存器 & 内存

我们同样使用逻辑门来实现存储功能









